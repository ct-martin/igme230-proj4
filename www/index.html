<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MIDI Web Player</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="js/inc/shim/Base64.js" type="text/javascript"></script>
	<script src="js/inc/shim/Base64binary.js" type="text/javascript"></script>
	<script src="js/inc/shim/WebAudioAPI.js" type="text/javascript"></script>
	<script src="js/inc/shim/WebMIDIAPI.js" type="text/javascript"></script>
	<script src="js/inc/jasmid/stream.js"></script>
	<script src="js/inc/jasmid/midifile.js"></script>
	<script src="js/inc/jasmid/replayer.js"></script>
	<script src="js/midi/audioDetect.js" type="text/javascript"></script>
	<script src="js/midi/gm.js" type="text/javascript"></script>
	<script src="js/midi/loader.js" type="text/javascript"></script>
	<script src="js/midi/plugin.audiotag.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webaudio.js" type="text/javascript"></script>
	<script src="js/midi/plugin.webmidi.js" type="text/javascript"></script>
	<script src="js/midi/player.js" type="text/javascript"></script>
	<script src="js/midi/synesthesia.js" type="text/javascript"></script>
	<script src="js/util/dom_request_xhr.js" type="text/javascript"></script>
	<script src="js/util/dom_request_script.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.9/p5.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/threejs/r84/three.min.js"></script>
    <script src="js/scripts.js"></script>
</head>
<body>
    <header>
        <nav>
            <p class="nav-title">Web MIDI Player</p>
            <a href="#" id="link-playlist" onclick="changePanel('playlist')">Playlist</a>
            <a href="#" id="link-pianoroll" onclick="changePanel('pianoroll')">Piano View</a>
            <a href="#" id ="link-visualize" onclick="changePanel('visualize')">Visualize</a>
            <a href="#" id="link-about" onclick="changePanel('about')">About</a>
        </nav>
        <div id="controls">
            <div id="control-buttons">
                <span id="play-btn" class="fa fa-play-circle fa-3x" onclick="changeState('play')"></span>
                <span id="pause-btn" class="fa fa-pause-circle fa-3x" onclick="changeState('pause')"></span>
            </div>
            <div id="control-tracking">
                <p id="control-time">No file loaded</p>
                <svg id="control-timeline"><rect id="control-timeline-completed"></rect></svg>
            </div>
        </div>
    </header>
    <main>
        <div id="playlist" class="panel">
            <div class="container">
                <p>
                    Looking for some MIDI files? Try the <a href="http://www.mutopiaproject.org/index.html" target="_blank">Mutopia Project</a>.
                    I recommend the third part of <a href="http://www.mutopiaproject.org/cgibin/piece-info.cgi?id=276" target="_blank">Beethoven's Moonlight Sonata</a>.
                    The more variation your MIDI file has, the more interesting the graphics will be.
                </p>
                <input type="file" id="files" name="files" multiple />
                <div id="playlist-list">
                    <p id="playlist-list-empty"><i>Nothing here yet, try adding something above!</i></p>
                </div>
            </div>
        </div>
        <div id="pianoroll" class="panel">

        </div>
        <div id="visualize" class="panel">

        </div>
        <div id="about" class="panel">
            <div class="container">
                <p>Click "Playlist" in the nav top get started!</p>
                <p>Note: all (non-percussion) notes are played with the piano due to limitations of the library</p>
                <p>Note: the Visualize view may seem dull, but that's because many MIDI files don't have dynamics (volume)</p>
                <p>Note: due to some oddly crafted MIDI files sometimes notes will "stick"</p>
                <p>Note: this can be a bit browser intensive sometimes...</p>
                <p><a href="https://github.com/ctm2142/igme230-proj4">Documentation</a></p>
                <p>Uses code from:</p>
                <ul>
                    <li><a href="https://www.html5rocks.com/en/tutorials/file/dndfiles/">HTML5Rocks' Drag&amp;Drop Examples</li>
                    <li><a href="https://github.com/mudcube/MIDI.js/">MIDI.js</a></li>
                    <li><a href="https://fonts.google.com/">Google Fonts</a></li>
                    <li><a href="https://p5js.org/">p5.js</a></li>
                    <li><a href="https://threejs.org/">Three.js</a></li>
                    <li><a href="http://fontawesome.io/">Font Awesome</a></li>
                    <li><a href="https://jquery.com/">jQuery</a></li>
                    <li><a href="https://github.com/gleitz/midi-js-soundfonts">MIDI.js Soundfont (FluidR3_GM)</a></li>
                    <li>Some inspiration taken from <a href="http://www.vanbasco.com/karaokeplayer/windows.html#piano">vanBasco's Karaoke Player (MIDI Output View)</a></li>
                </ul>
            </div>
        </div>
        <div id="toosmall">
            <p>Hey, your browser window is too small for this to work. Sorry.</p>
        </div>
    </main>
</body>
</html>